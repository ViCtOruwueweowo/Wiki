<ion-header [hidden]="isMobile">
  <app-topbar></app-topbar>
</ion-header>

<ion-content fullscreen="true" class="home-content">

  <!-- HERO PRINCIPAL -->
  <section class="hero">
    <h1>Universal Wiki Utopia</h1>
    <p>La enciclopedia de referencia para jugadores y desarrolladores</p>
  </section>

  <!-- TOAST DE INSTALACIÓN PWA -->
  <ng-container *ngIf="showInstallBanner">
    <div class="install-banner">
      <p>Instala la app en tu dispositivo</p>
      <ion-button color="primary" expand="block" (click)="showInstallPrompt()">Instalar App</ion-button>
      <ion-button fill="clear" color="medium" (click)="closeInstallBanner()">✖ Cerrar</ion-button>
    </div>
  </ng-container>

  <div class="container">

    <!-- SECCIONES DESTACADAS -->
    <section class="highlighted">
      <h2>Secciones Destacadas</h2>
      <ion-grid>
        <ion-row>
          <ion-col size="12" size-md="6" size-lg="4">
            <ion-card button class="card">
              <ion-card-header>
                <ion-card-title>Juegos Populares</ion-card-title>
              </ion-card-header>
              <ion-card-content>Explora los títulos más buscados por la comunidad y jugadores activos.</ion-card-content>
            </ion-card>
          </ion-col>

          <ion-col size="12" size-md="6" size-lg="4">
            <ion-card button class="card">
              <ion-card-header>
                <ion-card-title>Últimas Actualizaciones</ion-card-title>
              </ion-card-header>
              <ion-card-content>Notas, parches y noticias recientes de cada juego documentadas.</ion-card-content>
            </ion-card>
          </ion-col>

          <ion-col size="12" size-md="6" size-lg="4">
            <ion-card button class="card">
              <ion-card-header>
                <ion-card-title>Guías y Estrategias</ion-card-title>
              </ion-card-header>
              <ion-card-content>Walkthroughs, builds y tips para dominar tus juegos favoritos.</ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </section>

    <!-- RECOMENDACIONES DINÁMICAS -->
    <section class="recommendations">
      <h2>Recomendaciones para ti</h2>
      <ion-grid>
        <ion-row>
          <ion-col size="6" size-md="4" size-lg="3" *ngFor="let game of filterHomeGames()">
            <ion-card button [routerLink]="['/wiki-detail', game.id]" class="card">
              <img [src]="game.image_url" [alt]="game.title">
              <ion-card-content>{{ game.title }}</ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </section>

    <!-- SECCIÓN FINAL -->
    <section class="final-section">
      <h3>Nota Informativa</h3>
      <p>
        Mantente al día con los parches y novedades de tus juegos favoritos.
        Usa la aplicación para recibir alertas, noticias y contenido exclusivo de manera inmediata.
      </p>
    </section>

  </div>

</ion-content>

<ion-footer [hidden]="!isMobile">
  <ion-toolbar>
    <app-bottombar></app-bottombar>
  </ion-toolbar>
</ion-footer>
